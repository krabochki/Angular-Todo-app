<div  class="todo-item" [ngClass]="{'checked':todo.completed, 'unchecked':exit, 'edit-mode':editMode}">

  <div  (click)="changeState()" class="check-bubble" >

    <svg xmlns="http://www.w3.org/2000/svg" version="1.0"  viewBox="0 0 71 71" preserveAspectRatio="xMidYMid meet">

      <g transform="translate(0.000000,71.000000) scale(0.100000,-0.100000)"   stroke="none">
        <path xmlns="http://www.w3.org/2000/svg" d="M624 612 c-12 -2 -58 -40 -102 -85 -44 -45 -116 -117 -160 -161 l-80 -78 -76 80 c-80 83 -116 105 -152 91 -27 -9 -54 -47 -54 -73 0 -20 255 -286 275 -286 20 0 435 425 435 446 0 44 -39 74 -86 66z"/>

      </g>
      </svg>
    
  </div>
    <div [ngStyle]="{'pointer-events':todo.completed?'none':'all'}">
      <h2 #name [contentEditable]="editMode">{{ todo.name }}</h2>
      <p #description [contentEditable]="editMode" class="description space">{{ todo.description }}</p>
      <app-hardness-indicator (onChanged)="onChanged($event)"   [editMode]="editMode" *ngIf="todo.difficulty || editMode" [difficulty]="todo.difficulty"></app-hardness-indicator>
     

    <div class="info space" *ngIf="todo.dueDate || editMode">
      
        <svg xmlns="http://www.w3.org/2000/svg" version="1.0"  viewBox="0 0 260 260" preserveAspectRatio="xMidYMid meet">
  
          <g transform="translate(0.000000,260.000000) scale(0.100000,-0.100000)"   stroke="none">
            <path xmlns="http://www.w3.org/2000/svg" d="M1130 2560 c-191 -30 -407 -113 -543 -209 -32 -23 -60 -41 -63 -41 -6 0 -63 -52 -139 -125 -86 -83 -190 -226 -248 -341 -31 -60 -98 -269 -112 -349 -19 -103 -13 -372 10 -465 34 -142 78 -250 153 -379 64 -109 110 -168 214 -271 96 -95 178 -156 298 -218 110 -58 174 -81 325 -119 100 -26 126 -28 290 -28 141 0 195 4 250 19 312 80 471 168 671 371 114 116 173 200 240 341 143 304 163 623 61 944 -98 305 -341 591 -623 733 -211 106 -334 137 -564 142 -91 2 -190 0 -220 -5z m80 -300 c0 -126 11 -160 59 -180 35 -14 65 -8 101 19 24 19 25 25 28 145 l4 126 26 0 c158 -1 446 -117 574 -232 20 -18 49 -44 65 -58 74 -66 179 -204 226 -296 43 -85 96 -256 103 -331 l7 -73 -91 0 c-107 0 -135 -10 -157 -57 -20 -41 -14 -75 20 -109 22 -22 32 -24 125 -24 l100 0 0 -38 c0 -100 -65 -283 -150 -422 -61 -99 -217 -270 -277 -306 -18 -10 -33 -22 -33 -26 0 -4 -6 -8 -14 -8 -8 0 -16 -4 -18 -8 -11 -26 -221 -119 -328 -145 -109 -27 -161 -31 -171 -16 -5 8 -9 56 -9 107 0 90 -1 95 -29 123 -20 20 -39 29 -61 29 -75 0 -100 -45 -100 -180 0 -105 6 -101 -126 -74 -265 55 -505 208 -672 430 -51 67 -139 233 -161 305 -16 49 -41 211 -35 221 3 4 46 8 95 8 102 0 131 12 148 62 9 26 8 39 -9 74 -24 50 -36 54 -152 54 -77 0 -88 2 -88 18 0 30 28 175 44 227 24 77 105 228 165 308 58 76 220 231 271 258 16 9 35 21 42 27 19 15 156 83 176 87 9 1 45 12 79 24 63 21 144 38 196 40 l27 1 0 -110z"/>
            <path xmlns="http://www.w3.org/2000/svg" d="M1820 1942 c-8 -4 -51 -45 -95 -90 -44 -46 -161 -165 -260 -265 -253 -255 -275 -282 -275 -327 0 -54 44 -100 96 -100 33 0 45 8 112 78 41 42 179 184 306 315 127 130 237 250 245 266 17 36 10 68 -24 104 -26 27 -69 35 -105 19z"/>
          </g>        </svg>
        
       
  
          
        <p *ngIf="!editMode">{{ todo.dueDate | date:'dd.MM.yyyy'}}</p>
        <input #date  [value]="todo.dueDate | date:'yyyy-MM-dd'"  *ngIf="editMode" type="date" contenteditable="true">
        
    </div>
    </div>


<div class="buttons-panel" [ngStyle]="{'pointer-events':todo.completed?'none':'all'}">
  <button [disabled]="todo.completed" class="icon-button edit" (click)="yesClick()">
      
    <svg *ngIf="!editMode" xmlns="http://www.w3.org/2000/svg" version="1.0"  viewBox="0 0 260 260" preserveAspectRatio="xMidYMid meet">

      <g transform="translate(0.000000,260.000000) scale(0.100000,-0.100000)"   stroke="none">
        <path xmlns="http://www.w3.org/2000/svg" d="M1893 2521 c-66 -17 -110 -54 -375 -311 -489 -476 -710 -692 -888 -866 -96 -95 -225 -221 -287 -281 -101 -98 -112 -113 -122 -158 -6 -27 -20 -81 -31 -120 -11 -38 -34 -119 -50 -180 -16 -60 -36 -135 -44 -165 -94 -342 -93 -340 -71 -356 10 -8 25 -14 33 -14 20 0 844 191 859 199 6 3 361 354 789 780 612 610 781 784 797 820 13 29 21 69 21 106 2 103 -28 148 -225 337 -93 90 -188 173 -212 185 -46 25 -143 37 -194 24z m115 -155 c15 -8 102 -90 195 -183 209 -212 209 -209 65 -351 l-74 -72 -219 220 c-121 121 -220 225 -220 230 0 14 135 151 159 160 32 13 64 12 94 -4z m-313 -354 c119 -115 355 -360 355 -369 0 -10 -121 -133 -131 -133 -4 0 -102 97 -218 216 l-212 216 63 68 c35 38 65 69 68 69 3 0 37 -30 75 -67z m-259 -234 c35 -35 64 -68 64 -74 0 -10 -853 -867 -881 -885 -32 -20 -56 -10 -67 29 -8 25 -25 46 -52 65 -22 16 -40 32 -40 36 0 9 284 292 654 652 116 112 217 212 225 221 9 9 20 17 25 17 5 1 37 -27 72 -61z m347 -351 c15 -17 27 -36 27 -43 0 -6 -203 -214 -451 -463 -503 -504 -462 -474 -541 -408 l-38 32 5 95 5 95 421 418 421 418 61 -57 c34 -31 74 -71 90 -87z m-1393 -622 c7 -8 18 -15 25 -15 17 0 25 -23 25 -70 0 -52 17 -60 124 -60 l86 0 0 -98 0 -98 50 -38 c28 -21 50 -42 50 -46 0 -4 -10 -10 -22 -13 -13 -2 -90 -21 -172 -40 l-150 -36 -55 52 c-103 96 -99 77 -56 235 70 263 68 259 95 227z"/>        </g>
      </svg>
      <svg *ngIf="editMode"  xmlns="http://www.w3.org/2000/svg" version="1.0"  viewBox="0 0 253 253" preserveAspectRatio="xMidYMid meet">

        <g xmlns="http://www.w3.org/2000/svg" transform="translate(0.000000,260.000000) scale(0.100000,-0.100000)"  stroke="none">
          <path d="M2258 1972 c-9 -4 -254 -241 -545 -527 -790 -778 -728 -720 -752 -703 -12 8 -19 18 -16 21 3 4 2 5 -2 2 -4 -3 -141 129 -305 292 -164 164 -307 302 -318 307 -47 21 -119 -46 -106 -99 3 -13 60 -76 127 -142 67 -65 228 -224 358 -354 236 -236 269 -262 309 -240 10 5 290 279 621 608 332 329 609 597 615 595 6 -2 8 -1 4 3 -3 4 11 22 31 41 21 18 48 53 61 77 21 39 22 48 11 74 -7 17 -24 35 -37 42 -28 12 -32 13 -56 3z"/>
          </g>
  
        </svg>
  </button>
      <button [disabled]="todo.completed"  class="icon-button remove" (click)="noClick()">
      
        <svg  *ngIf="!editMode" xmlns="http://www.w3.org/2000/svg" version="1.0"  viewBox="0 0 253 253" preserveAspectRatio="xMidYMid meet">
  
          <g transform="translate(0.000000,260.000000) scale(0.100000,-0.100000)"   stroke="none">
          <path d="M1116 2545 c-79 -28 -143 -116 -153 -210 l-6 -53 -101 -4 c-138 -5 -197 -32 -260 -117 -30 -41 -49 -80 -57 -117 l-12 -55 -123 7 c-204 11 -218 -4 -212 -233 l3 -145 33 -29 c25 -23 42 -29 76 -29 l43 0 22 -187 c50 -425 132 -1092 142 -1155 6 -37 20 -82 32 -100 34 -50 108 -97 170 -108 35 -7 271 -10 634 -8 l578 3 54 30 c60 33 106 88 121 145 5 20 23 153 40 296 16 142 47 408 69 589 22 182 44 366 48 410 l8 80 54 5 c44 5 58 11 82 38 l29 32 0 151 c0 84 -5 159 -10 170 -23 43 -65 52 -198 45 -136 -7 -152 -3 -152 43 0 42 -44 123 -85 160 -66 57 -117 75 -236 79 l-106 4 -6 57 c-9 103 -66 181 -151 206 -66 20 -315 20 -370 0z m336 -149 c20 -15 38 -58 38 -92 l0 -24 -187 2 -188 3 1 39 c1 30 8 46 28 63 25 22 36 23 159 23 92 -1 137 -5 149 -14z m407 -285 c33 -23 59 -61 63 -89 l3 -23 -619 1 c-341 0 -622 2 -624 5 -9 9 35 80 61 99 26 19 46 21 265 26 130 3 370 4 532 2 262 -3 298 -5 319 -21z m429 -333 l-3 -73 -975 0 -975 0 -3 59 c-2 32 -1 65 2 72 5 12 167 14 981 14 l976 0 -3 -72z m-168 -225 c0 -19 -72 -622 -89 -753 -11 -80 -27 -208 -36 -285 -30 -270 -36 -305 -59 -330 -11 -14 -33 -27 -48 -31 -25 -5 -28 -3 -28 17 0 27 23 542 41 943 l13 269 -23 18 c-30 24 -83 24 -104 1 -19 -21 -21 -43 -37 -447 -13 -308 -28 -613 -36 -722 l-6 -83 -73 0 c-67 0 -73 2 -78 23 -3 12 -6 290 -7 617 -1 665 3 630 -71 630 -72 0 -69 30 -69 -657 l0 -613 -110 0 -110 0 0 615 c0 602 0 615 -20 635 -24 24 -91 27 -109 6 -9 -11 -13 -173 -15 -633 l-3 -618 -76 -3 -75 -3 -6 63 c-3 35 -10 200 -16 368 -15 449 -30 772 -36 798 -6 27 -54 51 -90 44 -14 -2 -32 -15 -41 -28 -14 -22 -14 -52 1 -317 22 -415 41 -916 34 -923 -10 -9 -46 14 -63 40 -15 23 -45 235 -99 701 -14 121 -37 308 -51 415 -14 107 -25 207 -25 223 l0 27 810 0 c446 0 810 -3 810 -7z"/>
          </g>
          </svg>
          <svg *ngIf="editMode"  xmlns="http://www.w3.org/2000/svg" version="1.0"  viewBox="0 0 260 260" preserveAspectRatio="xMidYMid meet">

            <g xmlns="http://www.w3.org/2000/svg" transform="translate(0.000000,260.000000) scale(0.100000,-0.100000)"  stroke="none">
              <path d="M583 1978 c-12 -6 -27 -24 -34 -41 -11 -26 -10 -35 11 -74 13 -24 40 -59 61 -77 20 -19 34 -38 31 -42 -4 -4 -2 -4 4 -1 5 3 119 -103 253 -237 l243 -243 -296 -288 c-177 -173 -299 -299 -305 -317 -13 -36 0 -71 33 -93 52 -34 70 -19 410 318 l270 268 85 -83 c46 -46 168 -166 270 -268 246 -245 277 -268 327 -235 33 22 46 57 33 93 -6 18 -128 144 -305 317 l-296 288 243 243 c134 134 248 240 253 237 6 -3 8 -3 4 1 -3 4 11 23 31 42 21 18 48 53 61 77 21 39 22 48 11 75 -15 37 -57 57 -92 44 -13 -6 -121 -107 -239 -227 -118 -119 -254 -253 -302 -297 l-87 -79 -301 298 c-166 164 -309 301 -318 305 -23 9 -33 8 -59 -4z"/>
              </g>
            </svg>
      </button>
  
     
</div>
    
  </div>
  

  <div class="edit-mode-blur"></div>

